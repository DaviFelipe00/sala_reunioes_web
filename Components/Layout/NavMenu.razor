@using MudBlazor
@using Microsoft.AspNetCore.Components.Authorization

<MudNavMenu Class="mt-4">
    @* Link Público: Home / Agendamentos *@
    <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Outlined.SpaceDashboard">
        Agendamentos
    </MudNavLink>

    @* Link Público: Calendário Global *@
    <MudNavLink Href="calendario" Icon="@Icons.Material.Filled.CalendarMonth">
        Calendário
    </MudNavLink>

    @* --- SEÇÃO ADMINISTRATIVA (Com Proteção) --- *@
    <AuthorizeView>
        <Authorized>
            <MudDivider Class="my-2" DividerType="DividerType.Middle" />
            <MudText Typo="Typo.caption" Class="px-4 mt-2 mb-1" Color="Color.Inherit" Style="opacity: 0.5;">ADMINISTRAÇÃO</MudText>
            
            <MudNavLink Href="admin/salas" Icon="@Icons.Material.Filled.MeetingRoom">
                Gerenciar Salas
            </MudNavLink>
            
            @* Dica Sênior: O botão "Sair" (Logout) foi movido para o UserMenu (avatar no topo) 
               para seguir o padrão de UI moderno, mas se quiser aqui também, avise. *@
        </Authorized>
        
        <NotAuthorized>
            <MudDivider Class="my-2" DividerType="DividerType.Middle" />
            <MudNavLink Href="login" Icon="@Icons.Material.Filled.Login">
                Acesso Admin
            </MudNavLink>
        </NotAuthorized>
    </AuthorizeView>
    @* ------------------------------------------- *@

    @* Mantive o link para o Perfil para fácil acesso *@
    <MudNavLink Href="perfil" Icon="@Icons.Material.Filled.Person">
        Meu Perfil
    </MudNavLink>

    @* Removi Counter e Weather pois parecem ser restos do template padrão. 
       Se precisar deles, basta adicionar mais tags <MudNavLink> aqui. *@
</MudNavMenu>